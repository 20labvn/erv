{% extends "base.html" %}
{% load static %}

{% block title %}Trang ch·ªß{% endblock %}

{% block content %}
<section class="col-span-6 col-start-4 bg-base-100 rounded-box shadow-md p-6">
    <ul class="list bg-base-100 rounded-box shadow-md">
        <li class="list-row flex items-center gap-2">
            <img class="size-10 rounded-full"
                 src="https://img.daisyui.com/images/profile/demo/4@94.webp"/>
            <span class="font-semibold">{{ review.author }}</span>
            <span class="text-sm text-gray-500">- {{ review.created_at|date:"d/m/Y H:i" }}</span>
        </li>
        <li>
            <figure>
                <img src="{{ review.image.url }}" alt=""/>
            </figure>
            <div>
                {{ review.content }}
            </div>
        </li>
        <li class="flex items-center gap-4 py-2  ">
            <button class="btn btn-sm btn-outline btn-success">
                üëç Like <span class="ml-1">1 </span>
            </button>
            <button class="btn btn-sm btn-outline btn-error">
                üëé Dislike <span class="ml-1">0 </span>
            </button>
            <span class="text-gray-600 text-sm ml-auto">
                üí¨ 12  b√¨nh lu·∫≠n
            </span>
        </li>

        <li class="py-2 ">
            <form method="post" action="{% url 'add_comment' review.id %}" class="flex gap-2">
                {% csrf_token %}
                <input type="text" name="content" placeholder="Vi·∫øt b√¨nh lu·∫≠n..."
                       class="input input-bordered flex-1"/>
                <button type="submit" class="btn btn-primary">G·ª≠i</button>
            </form>
        </li>

        <li>
            <div>
                {% if comments %}
                {% for comment in comments %}
                <div class="mb-4">
                    <h6 class="font-bold">
                        {{ comment.author }}
                        <small class="text-gray-500 ml-2">{{ comment.created_at|date:"d/m/Y H:i" }}</small>
                    </h6>
                    <p class="mb-2">{{ comment.content }}</p>
                    <div class="flex gap-2">
                        <button class="btn btn-xs btn-outline btn-primary">
                            <i class="bi bi-reply"></i> Reply
                        </button>
                        <button class="btn btn-xs btn-outline btn-warning">
                            <i class="bi bi-chat-dots"></i> 2 comments
                        </button>
                    </div>
                </div>
                {% endfor %}
                {% else %}
                <p class="text-gray-500">Ch∆∞a c√≥ review n√†o cho c√¥ng ty n√†y.</p>
                {% endif %}
            </div>
        </li>
    </ul>
</section>
<aside class="col-span-3 bg-base-100 rounded-box shadow-md p-4">
    <div class="card shadow-md bg-base-100">
        <div class="card-body">
            <h5 class="text-center font-bold mb-3">
                T·ªïng Review
                <span class="text-warning ml-2">
              ‚≠ê‚≠ê‚≠ê‚òÜ‚òÜ
            </span>
                <span class="text-gray-500 ml-1">(880)</span>
            </h5>

            <ul class="space-y-2">
                <li class="flex items-center gap-2">
                    <span class="w-12">5 sao</span>
                    <progress class="progress progress-success flex-1" value="65" max="100"></progress>
                    <span class="text-gray-500">86</span>
                </li>
                <li class="flex items-center gap-2">
                    <span class="w-12">4 sao</span>
                    <progress class="progress progress-info flex-1" value="40" max="100"></progress>
                    <span class="text-gray-500">51</span>
                </li>
                <li class="flex items-center gap-2">
                    <span class="w-12">3 sao</span>
                    <progress class="progress progress-primary flex-1" value="100" max="100"></progress>
                    <span class="text-gray-500">132</span>
                </li>
                <li class="flex items-center gap-2">
                    <span class="w-12">2 sao</span>
                    <progress class="progress progress-warning flex-1" value="40" max="100"></progress>
                    <span class="text-gray-500">54</span>
                </li>
                <li class="flex items-center gap-2">
                    <span class="w-12">1 sao</span>
                    <progress class="progress progress-error flex-1" value="85" max="100"></progress>
                    <span class="text-gray-500">110</span>
                </li>
            </ul>

            <p class="text-center text-gray-500 mt-3">ƒêang hi·ªÉn th·ªã to√†n b·ªô review</p>
        </div>
    </div>
</aside>

{% endblock %}
